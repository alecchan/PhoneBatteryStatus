<!DOCTYPE html>
<html>
<head>
    <script src="zepto.min.js"></script>
    <script>

        function append(str){
            $("<p>" + str + "</p>").appendTo( $("body"));
        }

        navigator.getBattery().then(function (battery) {

            append("Battery charging? " + battery.charging ? "Yes" : "No");
            append("Battery level: " + battery.level * 100 + " %");
            append("Battery charging time: " + battery.chargingTime + " seconds");
            append("Battery discharging time: " + battery.dischargingTime + " seconds");

            battery.addEventListener('chargingchange', function () {
                append("Battery charging? " + battery.charging ? "Yes" : "No");
            });

            battery.addEventListener('levelchange', function () {
                append("Battery level: " + battery.level * 100 + " %");
            });

            battery.addEventListener('chargingtimechange', function () {
                append("Battery charging time: " + battery.chargingTime + " seconds");
            });

            battery.addEventListener('dischargingtimechange', function () {
                append("Battery discharging time: " + battery.dischargingTime + " seconds");
            });

        });

        window.addEventListener("batterystatus", onBatteryStatus, false);

        function onBatteryStatus(info) {
            // Handle the online event
            append("Level: " + info.level + " isPlugged: " + info.isPlugged);
        }
    </script>
</head>
<body>
    <h1>Battery Status</h1>
</body>
</html>